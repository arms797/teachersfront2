import{r,j as e,a as b}from"./index-B1L7_XIM.js";function v(){const[t,c]=r.useState(""),[a,i]=r.useState(""),[o,l]=r.useState(null),[m,d]=r.useState(null),[u,x]=r.useState(!1);function h(s){return/^09\d{9}$/.test(s)}function f(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}async function p(s){if(s.preventDefault(),l(null),d(null),t&&!h(t)){l("شماره موبایل معتبر نیست (باید با 09 شروع شود و 11 رقم باشد).");return}if(a&&!f(a)){l("ایمیل معتبر نیست.");return}if(!t&&!a){l("حداقل یکی از فیلدها را وارد کنید.");return}x(!0);try{const n=await b.post("/api/auth/update-contact",{Mobile:t||null,Email:a||null});d(n?.message||"اطلاعات تماس با موفقیت بروزرسانی شد."),c(""),i("")}catch(n){l(n.message)}finally{x(!1)}}return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("div",{className:"card",style:{width:"100%",maxWidth:"420px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title text-center",children:"تغییر ایمیل و شماره موبایل"}),o&&e.jsx("div",{className:"alert alert-danger",children:o}),m&&e.jsx("div",{className:"alert alert-success",children:m}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"شماره موبایل جدید"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:t,onChange:s=>c(s.target.value),placeholder:"مثلاً 09123456789"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"ایمیل جدید"}),e.jsx("input",{type:"email",className:"form-control form-control-sm",value:a,onChange:s=>i(s.target.value),placeholder:"مثلاً example@email.com"})]}),e.jsx("div",{className:"d-grid mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:u,children:u?"در حال ارسال...":"بروزرسانی اطلاعات"})})]})]})})})}export{v as default};
