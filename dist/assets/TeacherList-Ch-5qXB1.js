import{b as T,r as c,j as e,a as f,u as w,c as A,T as L}from"./index-D92IYPEq.js";function z({onSuccess:m}){const{hasRole:a}=T(),[l,h]=c.useState(!1),[o,t]=c.useState(null),[p,i]=c.useState(!1),[n,d]=c.useState(null),[N,r]=c.useState(null);if(!a("admin"))return null;async function u(){if(!o){r("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");return}const j=new FormData;j.append("file",o);try{i(!0),r(null);const x=await f.post("/api/teachers/upload-excel",j,{headers:{"Content-Type":"multipart/form-data"}});d(x),m?.()}catch(x){r(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${x.message}`)}finally{i(!1)}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>h(!0),children:"ðŸ“„ Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),l&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"#00000088"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title ",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{h(!1),t(null),d(null),r(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("h5",{className:"modal-title text-danger",children:"Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ø¨Ø§Ø´ÛŒØ¯ Ú†ÙˆÙ† Ø¯Ø± ØµÙˆØ±Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ±Ù…ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±ÙˆØ¯"}),e.jsx("br",{}),e.jsx("input",{type:"file",accept:".xlsx",className:"form-control mb-3",onChange:j=>t(j.target.files[0])}),e.jsx("button",{className:"btn btn-primary w-100",onClick:u,disabled:p,children:p?"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...":"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯"}),N&&e.jsx("div",{className:"alert alert-danger mt-3",children:N}),n&&e.jsxs("div",{className:"alert alert-success mt-3",children:[e.jsx("p",{className:"mb-1",children:"âœ… Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯:"}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø§ÙØ²ÙˆØ¯Ù‡â€ŒØ´Ø¯Ù‡: ",n.addedCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ: ",n.duplicateCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·Ø§Ø¯Ø§Ø±: ",n.errorCount]})]})]})]})]})})})]})}function J({onSuccess:m}){const{hasRole:a}=T(),[l,h]=c.useState(!1),[o,t]=c.useState(null),[p,i]=c.useState(!1),[n,d]=c.useState(null),[N,r]=c.useState(null);if(!a("admin"))return null;async function u(){if(!o){r("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");return}const j=new FormData;j.append("file",o);try{i(!0),r(null);const x=await f.post("/api/WeeklySchedule/upload-excel",j,{headers:{"Content-Type":"multipart/form-data"}});d(x),m?.()}catch(x){r(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${x.message}`)}finally{i(!1)}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>h(!0),children:"ðŸ“„ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡ÙØªÚ¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),l&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"#00000088"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{h(!1),t(null),d(null),r(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("h5",{className:"modal-title text-danger",children:"Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ø¨Ø§Ø´ÛŒØ¯ Ú†ÙˆÙ† Ø¯Ø± ØµÙˆØ±Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±ÙˆØ¯"}),e.jsx("br",{}),e.jsx("input",{type:"file",accept:".xlsx",className:"form-control mb-3",onChange:j=>t(j.target.files[0])}),e.jsx("button",{className:"btn btn-primary w-100",onClick:u,disabled:p,children:p?"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...":"Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡"}),N&&e.jsx("div",{className:"alert alert-danger mt-3",children:N}),n&&e.jsxs("div",{className:"alert alert-success mt-3",children:[e.jsx("p",{className:"mb-1",children:"âœ… Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯:"}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø§ÙØ²ÙˆØ¯Ù‡â€ŒØ´Ø¯Ù‡: ",n.addedCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ: ",n.duplicateCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·Ø§Ø¯Ø§Ø±: ",n.errorCount]})]})]})]})]})})})]})}function W({onSuccess:m}){const[a,l]=c.useState({code:"",fname:"",lname:"",email:"",mobile:"",fieldOfStudy:"",center:"",cooperationType:"",academicRank:"",executivePosition:"",nationalCode:""}),{centers:h}=w();function o(i){const{name:n,value:d}=i.target;l(N=>({...N,[n]:d,...n==="cooperationType"?{academicRank:""}:{}}))}async function t(i){if(i.preventDefault(),!a.code||!a.fname||!a.lname||!a.cooperationType||!a.academicRank||!a.nationalCode){alert("Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø³ØªØ§Ø±Ù‡ Ø¯Ø§Ø± Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯");return}try{console.log("ðŸ“¦ Ø¯Ø§Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ±:",JSON.stringify(a,null,2)),await f.post("/api/teachers",a),m()}catch(n){alert("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø§Ø³ØªØ§Ø¯"),console.error(n)}}const p=a.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?["Ø§Ø³ØªØ§Ø¯ÛŒØ§Ø±","Ø¯Ø§Ù†Ø´ÛŒØ§Ø±","Ø§Ø³ØªØ§Ø¯","Ù…Ø±Ø¨ÛŒ","Ø¯Ø³ØªÛŒØ§Ø± Ø¹Ù„Ù…ÛŒ"]:a.cooperationType==="Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"?["Ø¯Ú©ØªØ±ÛŒ","Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯"]:[];return e.jsxs("form",{onSubmit:t,children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"code",className:"form-control",value:a.code,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"fname",className:"form-control",value:a.fname,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"lname",className:"form-control",value:a.lname,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["  Ú©Ø¯ Ù…Ù„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"nationalCode",className:"form-control",value:a.nationalCode,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx("input",{name:"email",type:"email",className:"form-control",value:a.email,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("input",{name:"mobile",className:"form-control",value:a.mobile,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ"}),e.jsx("input",{name:"fieldOfStudy",className:"form-control",value:a.fieldOfStudy,onChange:o})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ù…Ø±Ú©Ø²"}),e.jsxs("select",{name:"center",className:"form-select",value:a.center,onChange:o,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±Ú©Ø²"}),h.map(i=>e.jsx("option",{value:i.centerCode,children:i.title},i.centerCode))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"cooperationType",className:"form-select",value:a.cooperationType,onChange:o,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ / Ù…Ø¯Ø±Ú© ØªØ­ØµÛŒÙ„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"academicRank",className:"form-select",value:a.academicRank,onChange:o,disabled:!a.cooperationType,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±ØªØ¨Ù‡ / Ù…Ø¯Ø±Ú©"}),p.map((i,n)=>e.jsx("option",{value:i,children:i},n))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø³Ù…Øª Ø§Ø¬Ø±Ø§ÛŒÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),e.jsx("input",{name:"executivePosition",className:"form-control",value:a.executivePosition,onChange:o})]})]}),e.jsxs("p",{className:"text-muted small mt-3",children:["ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ ",e.jsx("span",{className:"text-danger",children:"*"})," Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯."]}),e.jsx("div",{className:"mt-2 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-success",children:"âœ… Ø«Ø¨Øª Ø§Ø³ØªØ§Ø¯"})})]})}function q({teacher:m,onSuccess:a}){const[l,h]=c.useState({...m}),{centers:o}=w();c.useEffect(()=>{h({...m})},[m]);function t(n){const{name:d,value:N}=n.target;h(r=>({...r,[d]:N,...d==="cooperationType"?{academicRank:""}:{}}))}async function p(n){if(n.preventDefault(),!l.code||!l.fname||!l.lname||!l.cooperationType||!l.academicRank){alert("Ù„Ø·ÙØ§Ù‹ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¯Ø§Ø±Ø§ÛŒ Ø³ØªØ§Ø±Ù‡ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯");return}try{await f.put(`/api/teachers/${l.id}`,l),a()}catch(d){alert("Ø®Ø·Ø§ Ø¯Ø± ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"),console.error(d)}}const i=l.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?["Ø§Ø³ØªØ§Ø¯ÛŒØ§Ø±","Ø¯Ø§Ù†Ø´ÛŒØ§Ø±","Ø§Ø³ØªØ§Ø¯","Ù…Ø±Ø¨ÛŒ","Ø¯Ø³ØªÛŒØ§Ø± Ø¹Ù„Ù…ÛŒ"]:l.cooperationType==="Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"?["Ø¯Ú©ØªØ±ÛŒ","Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯"]:[];return e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"code",className:"form-control",value:l.code,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"fname",className:"form-control",value:l.fname,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"lname",className:"form-control",value:l.lname,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ú©Ø¯ Ù…Ù„ÛŒ"}),e.jsx("input",{name:"nationalCode",className:"form-control",value:l.nationalCode,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx("input",{name:"email",type:"email",className:"form-control",value:l.email,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("input",{name:"mobile",className:"form-control",value:l.mobile,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ"}),e.jsx("input",{name:"fieldOfStudy",className:"form-control",value:l.fieldOfStudy,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ù…Ø±Ú©Ø²"}),e.jsxs("select",{name:"center",className:"form-select",value:l.center,onChange:t,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±Ú©Ø²"}),o.map(n=>e.jsx("option",{value:n.centerCode,children:n.title},n.centerCode))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"cooperationType",className:"form-select",value:l.cooperationType,onChange:t,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ / Ù…Ø¯Ø±Ú© ØªØ­ØµÛŒÙ„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"academicRank",className:"form-select",value:l.academicRank,onChange:t,disabled:!l.cooperationType,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±ØªØ¨Ù‡ / Ù…Ø¯Ø±Ú©"}),i.map((n,d)=>e.jsx("option",{value:n,children:n},d))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø³Ù…Øª Ø§Ø¬Ø±Ø§ÛŒÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),e.jsx("input",{name:"executivePosition",className:"form-control",value:l.executivePosition,onChange:t})]})]}),e.jsxs("p",{className:"text-muted small mt-3",children:["ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ ",e.jsx("span",{className:"text-danger",children:"*"})," Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯."]}),e.jsx("div",{className:"mt-2 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"})})]})}function G(){const{hasRole:m}=T(),[a,l]=c.useState([]),[h,o]=c.useState(""),[t,p]=c.useState(""),[i,n]=c.useState(""),[d,N]=c.useState(""),[r,u]=c.useState(1),[j]=c.useState(30),[x,O]=c.useState(1),[E,S]=c.useState(!1),[P,k]=c.useState(!1),[R,$]=c.useState(null),{centers:D}=w(),{activeTerm:U}=A(),[M,F]=c.useState(null);c.useEffect(()=>{v()},[h,t,i,d,r]);async function v(){try{const s=await f.get("/api/teachers/paged",{params:{page:r,pageSize:j,search:h,cooperationType:t,center:i,fieldOfStudy:d}});l(s.items),O(Math.ceil(s.totalCount/j))}catch(s){console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒØ´Ø¯Ù‡:",s)}}function V(s){window.confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&window.confirm("Ø¨Ø§ Ø­Ø°Ù Ø§Ø³ØªØ§Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒÚ¯Ø± Ø§ÛŒÙ† Ø§Ø³ØªØ§Ø¯ Ù†ÛŒØ² Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ . Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ ØŸ")&&f.delete(`/api/teachers/${s}`).then(()=>v())}function I(s){window.confirm("Ø¢ÛŒØ§ Ø§Ø² Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&f.post(`/api/teachers/${s}/reset-password`).then(()=>v())}return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h4",{className:"m-0 col-3",children:"Ø§Ø³Ø§ØªÛŒØ¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡"}),e.jsx("div",{className:"d-flex align-items-center col-3",children:e.jsx("button",{className:"btn btn-primary me-2",onClick:()=>S(!0),children:"âž• Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªØ§Ø¯"})}),e.jsx(z,{onSuccess:v,className:"col-3"}),e.jsx(J,{className:"col-3"})]})}),e.jsxs("div",{className:"row g-2 mb-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø¯ØŒ Ù†Ø§Ù… ÛŒØ§ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ",value:h,onChange:s=>{o(s.target.value),u(1)}})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("select",{className:"form-select",value:t,onChange:s=>{p(s.target.value),u(1)},children:[e.jsx("option",{value:"",children:"Ù‡Ù…Ù‡ Ø§Ø³Ø§ØªÛŒØ¯"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ù…Ø±Ú©Ø² (Ù…Ø«Ù„Ø§Ù‹ Ø´ÛŒØ±Ø§Ø²)",value:i,onChange:s=>{n(s.target.value),u(1)}})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ø±Ø´ØªÙ‡ (Ù…Ø«Ù„Ø§Ù‹ Ù…Ù‡Ù†Ø¯Ø³ÛŒ Ø¨Ø±Ù‚)",value:d,onChange:s=>{N(s.target.value),u(1)}})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ú©Ø¯"}),e.jsx("th",{children:"Ù†Ø§Ù… Ø§Ø³ØªØ§Ø¯"}),e.jsx("th",{children:"Ø±Ø´ØªÙ‡"}),e.jsx("th",{children:"Ù…Ø±Ú©Ø²"}),e.jsx("th",{children:"Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("th",{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("th",{children:"Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ/Ù…Ø¯Ø±Ú©"}),e.jsx("th",{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.code}),e.jsxs("td",{children:[s.fname," ",s.lname]}),e.jsx("td",{children:s.fieldOfStudy}),e.jsx("td",{children:D.find(b=>b.centerCode===s.center)?.title||s.center}),e.jsx("td",{children:s.cooperationType}),e.jsx("td",{children:s.mobile}),e.jsx("td",{className:"text-muted",children:e.jsx("span",{className:s.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?"text-primary":"text-success",children:s.academicRank})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>F(s.code),children:"ðŸ“… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø­Ø¶ÙˆØ± Ù‡ÙØªÚ¯ÛŒ"}),(m("admin")||m("centerAdmin"))&&e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{$(s),k(!0)},children:"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´"}),(m("admin")||m("centerAdmin"))&&e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>I(s.id),children:"Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),m("admin")&&e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>V(s.id),children:"ðŸ—‘ï¸ Ø­Ø°Ù"})]})})]},s.id))})]})}),e.jsx("nav",{className:"mt-3",children:e.jsxs("ul",{className:"pagination justify-content-center flex-wrap",children:[e.jsx("li",{className:`page-item ${r===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(r-1),children:"Ù‚Ø¨Ù„ÛŒ"})}),(()=>{let b=Math.max(1,r-Math.floor(2.5)),C=Math.min(x,b+5-1);C-b+1<5&&(b=Math.max(1,C-5+1));const g=[];b>1&&(g.push(e.jsx("li",{className:"page-item",children:e.jsx("button",{className:"page-link",onClick:()=>u(1),children:"1"})},"first")),b>2&&g.push(e.jsx("li",{className:"page-item disabled",children:e.jsx("span",{className:"page-link",children:"..."})},"start-ellipsis")));for(let y=b;y<=C;y++)g.push(e.jsx("li",{className:`page-item ${r===y?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(y),children:y})},y));return C<x&&(C<x-1&&g.push(e.jsx("li",{className:"page-item disabled",children:e.jsx("span",{className:"page-link",children:"..."})},"end-ellipsis")),g.push(e.jsx("li",{className:"page-item",children:e.jsx("button",{className:"page-link",onClick:()=>u(x),children:x})},"last"))),g})(),e.jsx("li",{className:`page-item ${r===x?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(r+1),children:"Ø¨Ø¹Ø¯ÛŒ"})})]})})]}),E&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªØ§Ø¯ Ø¬Ø¯ÛŒØ¯"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>S(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx(W,{onSuccess:()=>{S(!1),v()}})})]})})}),P&&R&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>k(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx(q,{teacher:R,onSuccess:()=>{k(!1),v()}})})]})})}),M&&e.jsx(L,{code:M,term:U,onClose:()=>F(null)})]})}export{G as default};
