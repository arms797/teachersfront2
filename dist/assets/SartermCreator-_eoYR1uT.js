import{r as a,a as o,j as e}from"./index-BweMn421.js";function j(){const[d,h]=a.useState([]),[r,u]=a.useState(""),[c,l]=a.useState(!1),[n,t]=a.useState(null),[i,m]=a.useState(!1);a.useEffect(()=>{f()},[]);async function f(){try{const s=await o.get("/api/TermCalender");h(s)}catch{t("خطا در دریافت لیست ترم‌ها")}}async function p(){if(!r){t("لطفاً یک ترم انتخاب کنید");return}m(!0),t(null);try{const s=await o.post(`/api/teachers/sarterm/${r}/${c}`);t(s.message||"سرترم ایجاد شد")}catch(s){t(s.message||"خطا در ایجاد سرترم")}finally{m(!1)}}return e.jsxs("div",{children:[e.jsx("h6",{children:"ایجاد سرترم و برنامه هفتگی"}),n&&e.jsx("div",{className:"alert alert-info",children:n}),e.jsxs("div",{className:"row g-2 align-items-center mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("select",{className:"form-select",value:r,onChange:s=>u(s.target.value),children:[e.jsx("option",{value:"",children:"انتخاب ترم"}),d.map(s=>e.jsxs("option",{value:s.term,children:[s.term," - ",s.title]},s.term))]})}),e.jsxs("div",{className:"col-md-5 d-flex gap-3",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"resetOption",id:"preserve",checked:!c,onChange:()=>l(!1)}),e.jsx("label",{className:"form-check-label",htmlFor:"preserve",children:"ایجاد سرترم با حفظ سوابق"})]}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"resetOption",id:"reset",checked:c,onChange:()=>l(!0)}),e.jsx("label",{className:"form-check-label",htmlFor:"reset",children:"ایجاد سرترم خام (حذف سوابق)"})]})]}),e.jsx("div",{className:"col-md-3",children:e.jsx("button",{className:"btn btn-primary w-100",onClick:p,disabled:i,children:i?"در حال ایجاد...":"ایجاد سرترم"})})]})]})}export{j as default};
