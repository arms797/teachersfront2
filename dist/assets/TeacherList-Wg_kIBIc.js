import{b as C,r as c,j as e,a as f,u as S,c as U,T as I}from"./index-B1L7_XIM.js";function A({onSuccess:h}){const{hasRole:a}=C(),[l,m]=c.useState(!1),[r,t]=c.useState(null),[u,o]=c.useState(!1),[n,i]=c.useState(null),[j,d]=c.useState(null);if(!a("admin"))return null;async function p(){if(!r){d("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");return}const x=new FormData;x.append("file",r);try{o(!0),d(null);const N=await f.post("/api/teachers/upload-excel",x,{headers:{"Content-Type":"multipart/form-data"}});i(N),h?.()}catch(N){d(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${N.message}`)}finally{o(!1)}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>m(!0),children:"ðŸ“„ Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),l&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"#00000088"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title ",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{m(!1),t(null),i(null),d(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("h5",{className:"modal-title text-danger",children:"Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ø¨Ø§Ø´ÛŒØ¯ Ú†ÙˆÙ† Ø¯Ø± ØµÙˆØ±Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ±Ù…ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±ÙˆØ¯"}),e.jsx("br",{}),e.jsx("input",{type:"file",accept:".xlsx",className:"form-control mb-3",onChange:x=>t(x.target.files[0])}),e.jsx("button",{className:"btn btn-primary w-100",onClick:p,disabled:u,children:u?"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...":"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³Ø§ØªÛŒØ¯"}),j&&e.jsx("div",{className:"alert alert-danger mt-3",children:j}),n&&e.jsxs("div",{className:"alert alert-success mt-3",children:[e.jsx("p",{className:"mb-1",children:"âœ… Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯:"}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø§ÙØ²ÙˆØ¯Ù‡â€ŒØ´Ø¯Ù‡: ",n.addedCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ: ",n.duplicateCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·Ø§Ø¯Ø§Ø±: ",n.errorCount]})]})]})]})]})})})]})}function L({onSuccess:h}){const{hasRole:a}=C(),[l,m]=c.useState(!1),[r,t]=c.useState(null),[u,o]=c.useState(!1),[n,i]=c.useState(null),[j,d]=c.useState(null);if(!a("admin"))return null;async function p(){if(!r){d("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");return}const x=new FormData;x.append("file",r);try{o(!0),d(null);const N=await f.post("/api/WeeklySchedule/upload-excel",x,{headers:{"Content-Type":"multipart/form-data"}});i(N),h?.()}catch(N){d(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${N.message}`)}finally{o(!1)}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>m(!0),children:"ðŸ“„ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡ÙØªÚ¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),l&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{background:"#00000088"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø§ ÙØ§ÛŒÙ„ Ø§Ú©Ø³Ù„"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{m(!1),t(null),i(null),d(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("h5",{className:"modal-title text-danger",children:"Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¢ÛŒØªÙ… Ù…Ø·Ù…Ø¦Ù† Ø¨Ø§Ø´ÛŒØ¯ Ú†ÙˆÙ† Ø¯Ø± ØµÙˆØ±Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø²Ù…Ø§Ù†Ø¨Ù†Ø¯ÛŒ Ø§Ø³Ø§ØªÛŒØ¯ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø§Ø² Ø¨ÛŒÙ† Ø¨Ø±ÙˆØ¯"}),e.jsx("br",{}),e.jsx("input",{type:"file",accept:".xlsx",className:"form-control mb-3",onChange:x=>t(x.target.files[0])}),e.jsx("button",{className:"btn btn-primary w-100",onClick:p,disabled:u,children:u?"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...":"Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡"}),j&&e.jsx("div",{className:"alert alert-danger mt-3",children:j}),n&&e.jsxs("div",{className:"alert alert-success mt-3",children:[e.jsx("p",{className:"mb-1",children:"âœ… Ø¹Ù…Ù„ÛŒØ§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯:"}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø§ÙØ²ÙˆØ¯Ù‡â€ŒØ´Ø¯Ù‡: ",n.addedCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ: ",n.duplicateCount]}),e.jsxs("li",{children:["ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·Ø§Ø¯Ø§Ø±: ",n.errorCount]})]})]})]})]})})})]})}function z({onSuccess:h}){const[a,l]=c.useState({code:"",fname:"",lname:"",email:"",mobile:"",fieldOfStudy:"",center:"",cooperationType:"",academicRank:"",executivePosition:"",nationalCode:""}),{centers:m}=S();function r(o){const{name:n,value:i}=o.target;l(j=>({...j,[n]:i,...n==="cooperationType"?{academicRank:""}:{}}))}async function t(o){if(o.preventDefault(),!a.code||!a.fname||!a.lname||!a.cooperationType||!a.academicRank||!a.nationalCode){alert("Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø³ØªØ§Ø±Ù‡ Ø¯Ø§Ø± Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯");return}try{console.log("ðŸ“¦ Ø¯Ø§Ø¯Ù‡ Ø§Ø±Ø³Ø§Ù„ÛŒ Ø¨Ù‡ Ø³Ø±ÙˆØ±:",JSON.stringify(a,null,2)),await f.post("/api/teachers",a),h()}catch(n){alert("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø§Ø³ØªØ§Ø¯"),console.error(n)}}const u=a.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?["Ø§Ø³ØªØ§Ø¯ÛŒØ§Ø±","Ø¯Ø§Ù†Ø´ÛŒØ§Ø±","Ø§Ø³ØªØ§Ø¯","Ù…Ø±Ø¨ÛŒ","Ø¯Ø³ØªÛŒØ§Ø± Ø¹Ù„Ù…ÛŒ"]:a.cooperationType==="Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"?["Ø¯Ú©ØªØ±ÛŒ","Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯"]:[];return e.jsxs("form",{onSubmit:t,children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"code",className:"form-control",value:a.code,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"fname",className:"form-control",value:a.fname,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"lname",className:"form-control",value:a.lname,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["  Ú©Ø¯ Ù…Ù„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"nationalCode",className:"form-control",value:a.nationalCode,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx("input",{name:"email",type:"email",className:"form-control",value:a.email,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("input",{name:"mobile",className:"form-control",value:a.mobile,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ"}),e.jsx("input",{name:"fieldOfStudy",className:"form-control",value:a.fieldOfStudy,onChange:r})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ù…Ø±Ú©Ø²"}),e.jsxs("select",{name:"center",className:"form-select",value:a.center,onChange:r,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±Ú©Ø²"}),m.map(o=>e.jsx("option",{value:o.centerCode,children:o.title},o.centerCode))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"cooperationType",className:"form-select",value:a.cooperationType,onChange:r,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ / Ù…Ø¯Ø±Ú© ØªØ­ØµÛŒÙ„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"academicRank",className:"form-select",value:a.academicRank,onChange:r,disabled:!a.cooperationType,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±ØªØ¨Ù‡ / Ù…Ø¯Ø±Ú©"}),u.map((o,n)=>e.jsx("option",{value:o,children:o},n))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø³Ù…Øª Ø§Ø¬Ø±Ø§ÛŒÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),e.jsx("input",{name:"executivePosition",className:"form-control",value:a.executivePosition,onChange:r})]})]}),e.jsxs("p",{className:"text-muted small mt-3",children:["ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ ",e.jsx("span",{className:"text-danger",children:"*"})," Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯."]}),e.jsx("div",{className:"mt-2 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-success",children:"âœ… Ø«Ø¨Øª Ø§Ø³ØªØ§Ø¯"})})]})}function J({teacher:h,onSuccess:a}){const[l,m]=c.useState({...h}),{centers:r}=S();c.useEffect(()=>{m({...h})},[h]);function t(n){const{name:i,value:j}=n.target;m(d=>({...d,[i]:j,...i==="cooperationType"?{academicRank:""}:{}}))}async function u(n){if(n.preventDefault(),!l.code||!l.fname||!l.lname||!l.cooperationType||!l.academicRank){alert("Ù„Ø·ÙØ§Ù‹ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¯Ø§Ø±Ø§ÛŒ Ø³ØªØ§Ø±Ù‡ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯");return}try{await f.put(`/api/teachers/${l.id}`,l),a()}catch(i){alert("Ø®Ø·Ø§ Ø¯Ø± ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"),console.error(i)}}const o=l.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?["Ø§Ø³ØªØ§Ø¯ÛŒØ§Ø±","Ø¯Ø§Ù†Ø´ÛŒØ§Ø±","Ø§Ø³ØªØ§Ø¯","Ù…Ø±Ø¨ÛŒ","Ø¯Ø³ØªÛŒØ§Ø± Ø¹Ù„Ù…ÛŒ"]:l.cooperationType==="Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"?["Ø¯Ú©ØªØ±ÛŒ","Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯"]:[];return e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ú©Ø¯ Ø§Ø³ØªØ§Ø¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"code",className:"form-control",value:l.code,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"fname",className:"form-control",value:l.fname,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{name:"lname",className:"form-control",value:l.lname,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ú©Ø¯ Ù…Ù„ÛŒ"}),e.jsx("input",{name:"nationalCode",className:"form-control",value:l.nationalCode,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx("input",{name:"email",type:"email",className:"form-control",value:l.email,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("input",{name:"mobile",className:"form-control",value:l.mobile,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ"}),e.jsx("input",{name:"fieldOfStudy",className:"form-control",value:l.fieldOfStudy,onChange:t})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ù…Ø±Ú©Ø²"}),e.jsxs("select",{name:"center",className:"form-select",value:l.center,onChange:t,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±Ú©Ø²"}),r.map(n=>e.jsx("option",{value:n.centerCode,children:n.title},n.centerCode))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"cooperationType",className:"form-select",value:l.cooperationType,onChange:t,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label",children:["Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ / Ù…Ø¯Ø±Ú© ØªØ­ØµÛŒÙ„ÛŒ ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("select",{name:"academicRank",className:"form-select",value:l.academicRank,onChange:t,disabled:!l.cooperationType,children:[e.jsx("option",{value:"",children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø±ØªØ¨Ù‡ / Ù…Ø¯Ø±Ú©"}),o.map((n,i)=>e.jsx("option",{value:n,children:n},i))]})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ø³Ù…Øª Ø§Ø¬Ø±Ø§ÛŒÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"}),e.jsx("input",{name:"executivePosition",className:"form-control",value:l.executivePosition,onChange:t})]})]}),e.jsxs("p",{className:"text-muted small mt-3",children:["ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ ",e.jsx("span",{className:"text-danger",children:"*"})," Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯."]}),e.jsx("div",{className:"mt-2 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"})})]})}function _(){const{hasRole:h}=C(),[a,l]=c.useState([]),[m,r]=c.useState(""),[t,u]=c.useState(""),[o,n]=c.useState(""),[i,j]=c.useState(""),[d,p]=c.useState(1),[x]=c.useState(30),[N,R]=c.useState(1),[F,g]=c.useState(!1),[O,y]=c.useState(!1),[T,E]=c.useState(null),{centers:M}=S(),{activeTerm:P}=U(),[k,w]=c.useState(null);c.useEffect(()=>{b()},[m,t,o,i,d]);async function b(){try{const s=await f.get("/api/teachers/paged",{params:{page:d,pageSize:x,search:m,cooperationType:t,center:o,fieldOfStudy:i}});l(s.items),R(Math.ceil(s.totalCount/x))}catch(s){console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒØ´Ø¯Ù‡:",s)}}function D(s){window.confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&window.confirm("Ø¨Ø§ Ø­Ø°Ù Ø§Ø³ØªØ§Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒÚ¯Ø± Ø§ÛŒÙ† Ø§Ø³ØªØ§Ø¯ Ù†ÛŒØ² Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ . Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ ØŸ")&&f.delete(`/api/teachers/${s}`).then(()=>b())}function $(s){window.confirm("Ø¢ÛŒØ§ Ø§Ø² Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&f.post(`/api/teachers/${s}/reset-password`).then(()=>b())}return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h4",{className:"m-0 col-3",children:"Ø§Ø³Ø§ØªÛŒØ¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡"}),e.jsx("div",{className:"d-flex align-items-center col-3",children:e.jsx("button",{className:"btn btn-primary me-2",onClick:()=>g(!0),children:"âž• Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªØ§Ø¯"})}),e.jsx(A,{onSuccess:b,className:"col-3"}),e.jsx(L,{className:"col-3"})]})}),e.jsxs("div",{className:"row g-2 mb-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø¯ØŒ Ù†Ø§Ù… ÛŒØ§ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ",value:m,onChange:s=>{r(s.target.value),p(1)}})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("select",{className:"form-select",value:t,onChange:s=>{u(s.target.value),p(1)},children:[e.jsx("option",{value:"",children:"Ù‡Ù…Ù‡ Ø§Ø³Ø§ØªÛŒØ¯"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ù…Ø±Ú©Ø² (Ù…Ø«Ù„Ø§Ù‹ Ø´ÛŒØ±Ø§Ø²)",value:o,onChange:s=>{n(s.target.value),p(1)}})}),e.jsx("div",{className:"col-md-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ø±Ø´ØªÙ‡ (Ù…Ø«Ù„Ø§Ù‹ Ù…Ù‡Ù†Ø¯Ø³ÛŒ Ø¨Ø±Ù‚)",value:i,onChange:s=>{j(s.target.value),p(1)}})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ú©Ø¯"}),e.jsx("th",{children:"Ù†Ø§Ù… Ø§Ø³ØªØ§Ø¯"}),e.jsx("th",{children:"Ø±Ø´ØªÙ‡"}),e.jsx("th",{children:"Ù…Ø±Ú©Ø²"}),e.jsx("th",{children:"Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("th",{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("th",{children:"Ù…Ø±ØªØ¨Ù‡ Ø¹Ù„Ù…ÛŒ/Ù…Ø¯Ø±Ú©"}),e.jsx("th",{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx("tbody",{children:a.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.code}),e.jsxs("td",{children:[s.fname," ",s.lname]}),e.jsx("td",{children:s.fieldOfStudy}),e.jsx("td",{children:M.find(v=>v.centerCode===s.center)?.title||s.center}),e.jsx("td",{children:s.cooperationType}),e.jsx("td",{children:s.mobile}),e.jsx("td",{className:"text-muted",children:e.jsx("span",{className:s.cooperationType==="Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"?"text-primary":"text-success",children:s.academicRank})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>w(s.code),children:"ðŸ“… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø­Ø¶ÙˆØ± Ù‡ÙØªÚ¯ÛŒ"}),e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{E(s),y(!0)},children:"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´"}),(h("admin")||h("centerAdmin"))&&e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>$(s.id),children:"Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),h("admin")&&e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>D(s.id),children:"ðŸ—‘ï¸ Ø­Ø°Ù"})]})})]},s.id))})]})}),e.jsx("nav",{className:"mt-3",children:e.jsx("ul",{className:"pagination justify-content-center",children:Array.from({length:N},(s,v)=>e.jsx("li",{className:`page-item ${d===v+1?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>p(v+1),children:v+1})},v))})})]}),F&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Ø§ÙØ²ÙˆØ¯Ù† Ø§Ø³ØªØ§Ø¯ Ø¬Ø¯ÛŒØ¯"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>g(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx(z,{onSuccess:()=>{g(!1),b()}})})]})})}),O&&T&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø³ØªØ§Ø¯"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>y(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx(J,{teacher:T,onSuccess:()=>{y(!1),b()}})})]})})}),k&&e.jsx(I,{code:k,term:P,onClose:()=>w(null)})]})}export{_ as default};
