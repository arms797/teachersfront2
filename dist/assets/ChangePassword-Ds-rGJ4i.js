import{r as a,j as e,a as v}from"./index-BOQ_sXnO.js";function y(){const[n,o]=a.useState(""),[r,c]=a.useState(""),[d,i]=a.useState(""),[u,l]=a.useState(null),[m,h]=a.useState(null),[p,x]=a.useState(!1);function f(s){const t=s.length>=8,j=/[A-Z]/.test(s),N=/[a-z]/.test(s),b=/[0-9]/.test(s);return t&&j&&N&&b}async function w(s){if(s.preventDefault(),l(null),h(null),r!==d){l("رمز جدید و تکرار آن یکسان نیستند.");return}if(!f(r)){l("رمز جدید باید حداقل ۸ کاراکتر و شامل حرف بزرگ، حرف کوچک و عدد باشد.");return}x(!0);try{const t=await v.post("/api/auth/change-password",{CurrentPassword:n,NewPassword:r});h(t?.message||"رمز عبور با موفقیت تغییر کرد."),o(""),c(""),i("")}catch(t){l(t.message)}finally{x(!1)}}return e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("div",{className:"card",style:{width:"100%",maxWidth:"420px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title text-center",children:"تغییر رمز عبور"}),u&&e.jsx("div",{className:"alert alert-danger",children:u}),m&&e.jsx("div",{className:"alert alert-success",children:m}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"رمز فعلی"}),e.jsx("input",{type:"password",className:"form-control form-control-sm",value:n,onChange:s=>o(s.target.value),required:!0,autoComplete:"current-password"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"رمز جدید"}),e.jsx("input",{type:"password",className:"form-control form-control-sm",value:r,onChange:s=>c(s.target.value),required:!0,autoComplete:"new-password"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"تکرار رمز جدید"}),e.jsx("input",{type:"password",className:"form-control form-control-sm",value:d,onChange:s=>i(s.target.value),required:!0,autoComplete:"new-password"})]}),e.jsx("div",{className:"d-grid mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:p,children:p?"در حال ارسال...":"تغییر رمز عبور"})})]})]})})})}export{y as default};
