import{c as E,u as R,r as t,j as e,R as F,a as M}from"./index-D92IYPEq.js";const A=()=>{const{allTerms:f,selectedTerm:n,setSelectedTerm:v,loading:C}=E(),{centers:S}=R(),[i,T]=t.useState("Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"),[d,y]=t.useState([]),[j,u]=t.useState(!1),[g,p]=t.useState(null),[l,r]=t.useState(1),[o,w]=t.useState(""),h=30,k=async()=>{if(n){u(!0),p(null);try{let s=`/api/reports/TeachersSummary/${n}`;i!=="all"&&(s+=`/${i}`);const a=await M.get(s);y(a),r(1)}catch(s){p(s.message)}finally{u(!1)}}},m=t.useMemo(()=>{const s=o.toLowerCase();return d.filter(a=>a.code.toLowerCase().includes(s)||a.fname.toLowerCase().includes(s)||a.lname.toLowerCase().includes(s))},[d,o]),c=Math.ceil(m.length/h),b=(l-1)*h,L=m.slice(b,b+h),P=s=>{const a=S.find(x=>x.centerCode===s);return a?a.title:s};return e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"mb-4 text-primary fw-bold",children:"ðŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ø®Ù„Ø§ØµÙ‡ ÙˆØ¶Ø¹ÛŒØª Ø§Ø³Ø§ØªÛŒØ¯"}),e.jsxs("div",{className:"row g-3 align-items-end mb-4",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"ØªØ±Ù…:"}),e.jsx("select",{className:"form-select",value:n||"",onChange:s=>v(s.target.value),disabled:C,children:f.map(s=>e.jsxs("option",{value:s.term,children:[s.term," ",s.active?"(ÙØ¹Ø§Ù„)":""]},s.term))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ:"}),e.jsxs("select",{className:"form-select",value:i,onChange:s=>T(s.target.value),children:[e.jsx("option",{value:"all",children:"Ù‡Ù…Ù‡ Ø§Ø³Ø§ØªÛŒØ¯"}),e.jsx("option",{value:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ",children:"Ø¹Ø¶Ùˆ Ù‡ÛŒØ§Øª Ø¹Ù„Ù…ÛŒ"}),e.jsx("option",{value:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ",children:"Ù…Ø¯Ø±Ø³ Ù…Ø¯Ø¹Ùˆ"})]})]}),e.jsx("div",{className:"col-md-4 d-grid",children:e.jsx("button",{className:"btn btn-primary",onClick:k,disabled:j,children:j?"Ø¯Ø± Ø­Ø§Ù„ Ø¬Ø³ØªØ¬Ùˆ...":"ðŸ” Ø¬Ø³ØªØ¬Ùˆ"})})]}),g&&e.jsx("div",{className:"alert alert-danger",children:g}),d.length>0&&e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø¯ØŒ Ù†Ø§Ù… ÛŒØ§ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ...",value:o,onChange:s=>w(s.target.value)})}),m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-hover align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ú©Ø¯"}),e.jsx("th",{children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ùˆ Ù†Ø§Ù…"}),e.jsx("th",{children:"Ù…Ø±Ú©Ø²"}),e.jsx("th",{children:"Ù†ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ"}),e.jsx("th",{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx("th",{children:"Ø³Ø§Ø¹Ø§Øª ØªØ¯Ø±ÛŒØ³"}),e.jsx("th",{children:"Ø³Ø§Ø¹Ø§Øª Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ"}),e.jsx("th",{children:"Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ Ø¯Ø± Ø³Ø§Ø¹Ø§Øª Ø§Ø¯Ø§Ø±ÛŒ"}),e.jsx("th",{children:"Ú©Ù„ Ø­Ø¶ÙˆØ±"})]})}),e.jsx("tbody",{children:L.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.code}),e.jsxs("td",{children:[s.lname," ",s.fname]}),e.jsx("td",{children:P(s.center)})," ",e.jsx("td",{children:s.cooperationType}),e.jsx("td",{children:s.mobile}),e.jsx("td",{className:"text-center",children:s.teachingSessions}),e.jsx("td",{className:"text-center",children:s.researchSessions}),e.jsx("td",{className:"text-center",children:s.researchOfficeSessions}),e.jsx("td",{className:"text-center fw-bold",children:s.totalPresence})]},s.code))})]})}),e.jsx("nav",{children:e.jsxs("ul",{className:"pagination justify-content-center",children:[e.jsx("li",{className:`page-item ${l===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>r(l-1),disabled:l===1,children:"Ù‚Ø¨Ù„ÛŒ"})}),Array.from({length:c},(s,a)=>a+1).filter(s=>s===1||s===c||s>=l-2&&s<=l+2).map((s,a,x)=>{const N=x[a-1],$=N&&s-N>1;return e.jsxs(F.Fragment,{children:[$&&e.jsx("li",{className:"page-item disabled",children:e.jsx("span",{className:"page-link",children:"â€¦"})}),e.jsx("li",{className:`page-item ${l===s?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>r(s),children:s})})]},s)}),e.jsx("li",{className:`page-item ${l===c?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>r(l+1),disabled:l===c,children:"Ø¨Ø¹Ø¯ÛŒ"})})]})})]})]})};export{A as default};
